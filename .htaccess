Options -MultiViews
RewriteEngine On

# Ignorer API (om nokon kjem inn via /emil/api/...)
RewriteRule ^api(/.*)?$ - [L]

# --------------------------------------------------
# 1) Fjern .php/.html i nettlesaren (redirect)
#    KUN når nettlesaren faktisk ba om .php/.html
# --------------------------------------------------
RewriteCond %{THE_REQUEST} \s/+emil/(.+?)\.(php|html)\s [NC]
RewriteRule ^ /emil/%1 [R=301,L]

# --------------------------------------------------
# 2) Ikkje rør ekte filer eller mapper
# --------------------------------------------------
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# --------------------------------------------------
# 3) Clean URL → map til .php eller .html (intern rewrite)
# --------------------------------------------------
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)$ $1.php [L]

RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)$ $1.html [L]
